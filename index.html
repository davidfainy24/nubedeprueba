<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Pizzer√≠a Cali - Men√∫ de Ventas</title>
  <style>
    body { font-family: Arial, sans-serif; background:#f8f8f8; margin:0; padding:0; }
    header, footer { background:#d32f2f; color:white; text-align:center; padding:10px; }
    main { max-width:900px; margin:20px auto; background:white; padding:20px; border-radius:8px; }
    h2 { color:#d32f2f; }
    .form-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); gap:10px; }
    .form-group { margin-bottom:10px; }
    label { display:block; margin-bottom:5px; }
    input, select { width:100%; padding:8px; border:1px solid #ccc; border-radius:4px; }
    .acciones { margin-top:10px; display:flex; gap:10px; flex-wrap:wrap; }
    .btn { padding:8px 12px; border:none; border-radius:4px; cursor:pointer; }
    .primary { background:#d32f2f; color:white; }
    .success { background:#388e3c; color:white; }
    .danger { background:#c62828; color:white; }
    ul { list-style:none; padding:0; }
    li { padding:6px; border-bottom:1px solid #eee; }
    .badge { background:#eee; padding:2px 6px; border-radius:4px; margin-left:5px; font-size:12px; }
  </style>
</head>
<body>
  <header>
    <h1>üçï Pizzer√≠a Cali</h1>
    <p>Men√∫ de ventas y registro de pedidos</p>
  </header>

  <main>
    <section>
      <h2>Nuevo pedido</h2>
      <div class="form-grid">
        <div class="form-group"><label>Nombre</label><input id="clienteNombre" type="text" /></div>
        <div class="form-group"><label>Direcci√≥n</label><input id="direccion" type="text" /></div>
        <div class="form-group"><label>Tel√©fono</label><input id="telefono" type="tel" /></div>
        <div class="form-group">
          <label>M√©todo de pago</label>
          <select id="metodoPago">
            <option value="efectivo">Efectivo</option>
            <option value="transferencia">Transferencia</option>
            <option value="tarjeta">Tarjeta</option>
          </select>
        </div>
      </div>

      <h3>Pizza</h3>
      <div class="form-grid">
        <div class="form-group">
          <label>Tama√±o</label>
          <select id="tamano">
            <option value="personal">Personal</option>
            <option value="mediana">Mediana</option>
            <option value="familiar">Familiar</option>
          </select>
        </div>
        <div class="form-group">
          <label>Sabor</label>
          <select id="sabor">
            <option value="margarita">Margarita</option>
            <option value="hawaiiana">Hawaiana</option>
            <option value="pepperoni">Pepperoni</option>
            <option value="cuatroQuesos">Cuatro Quesos</option>
            <option value="vegetariana">Vegetariana</option>
            <option value="mexicana">Mexicana</option>
            <option value="polloChampi√±ones">Pollo con champi√±ones</option>
          </select>
        </div>
        <div class="form-group"><label>Extra queso</label><input id="extraQueso" type="checkbox" /></div>
        <div class="form-group"><label>Cantidad</label><input id="cantidadPizza" type="number" min="1" value="1" /></div>
      </div>

      <h3>Bebidas</h3>
      <div class="form-grid">
        <div class="form-group">
          <label>Bebida</label>
          <select id="bebida">
            <option value="ninguna">Ninguna</option>
            <option value="gaseosa">Gaseosa</option>
            <option value="jugo">Jugo</option>
            <option value="agua">Agua</option>
          </select>
        </div>
        <div class="form-group">
          <label>Tama√±o bebida</label>
          <select id="tamanoBebida">
            <option value="ninguno">Ninguno</option>
            <option value="350ml">350 ml</option>
            <option value="1l">1 L</option>
            <option value="1.5l">1.5 L</option>
          </select>
        </div>
        <div class="form-group"><label>Cantidad bebida</label><input id="cantidadBebida" type="number" min="0" value="0" /></div>
      </div>

      <div class="acciones">
        <button id="btnAgregar" class="btn primary">Agregar al carrito</button>
        <button id="btnLimpiar" class="btn">Limpiar</button>
      </div>
    </section>

    <section>
      <h2>Carrito</h2>
      <ul id="carritoLista"></ul>
      <p><strong>Subtotal:</strong> <span id="subtotal">$0</span></p>
      <p><strong>Domicilio:</strong> <span id="domicilio">$0</span></p>
      <p><strong>Total:</strong> <span id="total">$0</span></p>
      <div class="acciones">
        <button id="btnConfirmar" class="btn success">Confirmar pedido</button>
        <button id="btnVaciar" class="btn danger">Vaciar carrito</button>
      </div>
    </section>

    <section>
      <h2>Pedidos registrados</h2>
      <ul id="pedidosLista"></ul>
      <div class="acciones">
        <button id="btnExportar" class="btn">Exportar JSON</button>
        <button id="btnBorrarPedidos" class="btn danger">Borrar repositorio</button>
      </div>
    </section>
  </main>

  <footer><small>¬© 2025 Pizzer√≠a Cali</small></footer>

  <script>
    const PRECIOS_PIZZA={personal:16000,mediana:28000,familiar:40000};
    const PRECIO_EXTRA_QUESO=3000;
    const PRECIOS_BEBIDA={
      gaseosa:{"350ml":4000,"1l":7000,"1.5l":9000},
      jugo:{"350ml":5000,"1l":8000,"1.5l":10000},
      agua:{"350ml":3000,"1l":5000,"1.5l":6500}
    };
    const COSTO_DOMICILIO=5000;
    let carrito=[],pedidos=[];
    const $=id=>document.getElementById(id);
    const formatoCOP=n=>n.toLocaleString("es-CO",{style:"currency",currency:"COP",maximumFractionDigits:0});
    function precioPizza(t,e){return PRECIOS_PIZZA[t]+(e?PRECIO_EXTRA_QUESO:0);}
    function precioBebida(b,t){if(!b||b==="ninguna"||t==="ninguno")return 0;return PRECIOS_BEBIDA[b][t]||0;}
    function agregarAlCarrito(){
      const tamano=$("tamano").value,sabor=$("sabor").value,extra=$("extraQueso").checked;
      const cantPizza=parseInt($("cantidadPizza").value,10);
      const bebida=$("bebida").value,tamBeb=$("tamanoBebida").value,cantBeb=parseInt($("cantidadBebida").value,10);
      const subtotal=(precioPizza(tamano,extra)*cantPizza)+(precioBebida(bebida,tamBeb)*cantBeb);
      carrito.push({tamano,sabor,extra,cantPizza,bebida,tamBeb,cantBeb,subtotal});
      renderCarrito(); actualizarTotales();
    }
    function renderCarrito(){}
      const lista=$("carritoLista"); lista.innerHTML="";
      if(carrito.length===0){lista.innerHTML="<li>Carrito vac√≠o</li>";return;}
      carrito.forEach(item,idx)=>{}
        const li=document.createElement("li");
        li.innerHTML=`${item.cantPizza}x ${item.tamano} ${item.sabor} ${item.extra?"(extra queso)":""}
          ${item.cantBeb>0?` + ${item.cantBeb}x ${item.tamBeb} ${item.bebida}`:""}